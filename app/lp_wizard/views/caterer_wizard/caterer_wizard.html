<md-content style="padding-top: 80px;" ng-controller="catererWizardController as vm">
<global-messagebar message-type="vm.messageType" message-bar-message="vm.messageBarMessage"></global-messagebar>
<wizard on-finish="vm.submitVendorForm()" name="catererWizard" edit-mode="false" ng-model="vm.catererWizardCurrentStep" indicators-position="top"> 
    <wz-step wz-title="Basic Details" canexit="vm.exitBasicDetailsStep" wz-disabled="false"> <!-- wz-disabled="true"-->
    <md-content>
		<div layout="row" layout-wrap layout-margin>
        <h2 class="md-title">Basic Details</h2>
         <div flex></div>	
        <md-button class="md-raised" disabled>Back</md-button>
        <md-button class="md-primary md-raised" wz-next>Next</md-button>
        <md-button class="md-accent md-raised" ng-click="vm.previewModeOff()" ng-show="vm.previewMode">Exit Preview</md-button>
        </div>
          
        <form name="vm.basicDetailsForm">
        	<fieldset ng-disabled="vm.previewMode">
        		<div layout="row" layout-wrap layout-margin>
        			<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Vendor Name</label>
        				<input name="vendorName" ng-model="vm.catererWizard.name" type="text" placeholder="eg. ABC Caterers or XYZ Cuisines" required>
        				<div ng-messages="vm.basicDetailsForm.vendorName.$error" role="alert" multiple>
              				<div ng-message="required" class="my-message">Vendor Name is Required.</div>
              			 </div>
      				</md-input-container>
      				
      				<span flex-gt-xs hide-xs></span>
      				
      				      				
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Website(If any)</label>
        				<input ng-model="vm.catererWizard.website" type="text" placeholder="eg. http://www.mywebsite.com">
      				</md-input-container>
      				
      				
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Vendor Address</label>
        				<textarea name="vendorAddress" ng-model="vm.catererWizard.addresses.addressLine1" rows="3" type="text" placeholder="Full Address of the vendor" required></textarea>
        				<div ng-messages="vm.basicDetailsForm.vendorAddress.$error" role="alert" multiple>
              				<div ng-message="required" class="my-message">Vendor Address is Required.</div>
              			 </div>
      				</md-input-container>
      				
      				<span flex-gt-xs hide-xs></span>
      				
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Short Description</label>
        				<textarea name="vendorDescription" ng-model="vm.catererWizard.description" rows="3" type="text" placeholder="Describe the vendor in brief" md-maxlength="500"></textarea>
      				</md-input-container>
      				
      				
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>City</label>
        				 <md-select ng-model="vm.catererWizard.city" required name="city" ng-disabled="vm.previewMode">
            			<md-option ng-repeat="(key, value) in ::vm.lookup.city" value="{{key}}">{{value}}</md-option>
      				</md-select>
      				<div class="md-errors-spacer"></div>
      				<div ng-messages="vm.basicDetailsForm.city.$error" role="alert" multiple>
              				<div ng-message="required" class="my-message">Please choose a city</div>
              			 </div>
      				</md-input-container>
      				
      				<span flex-gt-xs hide-xs></span>
      				
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Locality</label>
        				 <md-select ng-model="vm.catererWizard.locality" required name="locality" ng-disabled="vm.previewMode">
            			<md-option ng-repeat="(key,value) in ::vm.lookup.locality" value="{{key}}">{{value}}</md-option>
      				</md-select>
      				<div class="md-errors-spacer"></div>
      				<div ng-messages="vm.basicDetailsForm.locality.$error" role="alert" multiple>
              				<div ng-message="required" class="my-message">Please choose a locality</div>
              			 </div>
      				</md-input-container>
      				
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Primary Contact No</label>
        				<input name="primaryContactNo" ng-model="vm.catererWizard.addresses.primaryPhone" type="text" placeholder="So That you can be contacted" ng-pattern="/^\d+$/" required>
        				<div ng-messages="vm.basicDetailsForm.primaryContactNo.$error" role="alert" multiple>
              				<div ng-message="required" class="my-message">Phone Number is Required.</div>
              				<div ng-message="pattern" class="my-message">Invalid Phone No. Please enter a valid one</div>
              			 </div>
      				</md-input-container>
      				
      				<span flex-gt-xs hide-xs></span>
      				
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Secondary Contact No</label>
        				<input name="secondaryContactNo" ng-model="vm.catererWizard.addresses.secondaryPhone" placeholder="If Primary no disfunctions" type="text" ng-pattern="/^\d+$/">
      					<div ng-messages="vm.basicDetailsForm.secondaryContactNo.$error" role="alert" multiple>
              				<div ng-message="pattern" class="my-message">Invalid Phone No. Please enter a valid one</div>
              			 </div>
      				</md-input-container>
      				
      				
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Primary Email ID</label>
        				<input name="primaryEmailId" ng-model="vm.catererWizard.addresses.primaryEmail" type="text" placeholder="So That you can be informed" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" required>
      					<div ng-messages="vm.basicDetailsForm.primaryEmailId.$error" role="alert" multiple>
              				<div ng-message="required" class="my-message">Email ID is Required.</div>
              				<div ng-message="pattern" class="my-message">Invalid Email ID. Please enter a valid one</div>
              			 </div>
      				</md-input-container>
      				
      				<span flex-gt-xs hide-xs></span>
      				
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Secondary Email ID</label>
        				<input name="secondaryEmailId" ng-model="vm.catererWizard.addresses.secondaryEmail" type="text" placeholder="If Primary email disfunctions" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/">
        				<div ng-messages="vm.basicDetailsForm.secondaryEmailId.$error" role="alert" multiple>
              				<div ng-message="pattern" class="my-message">Invalid Email ID. Please enter a valid one</div>
              			 </div>
      				</md-input-container>
      				
      				
        		</div>
        	</fieldset>
        </form>
      
    </md-content>    
        <!--<input type="submit" wz-next value="Continue" />-->
    </wz-step>

    <wz-step wz-title="Catering & Decor Details" canenter="vm.exitBasicDetailsStep" canexit="vm.exitCateringDecorStep" wz-disabled="false">
    <md-content>
    <div layout="row" layout-wrap layout-margin>
        <h2 class="md-title">Catering Services Details</h2>
        <div flex></div>	
        <md-button class="md-raised" wz-previous>Back</md-button>
        <md-button class="md-primary md-raised" wz-next>Next</md-button>
        <md-button class="md-accent md-raised" ng-click="vm.previewModeOff()" ng-show="vm.previewMode">Exit Preview</md-button>
        </div>
        
    	<form name="vm.cateringDecorDetailsForm">
        	<fieldset ng-disabled="vm.previewMode">
        		<div layout="row"  layout-margin layout-wrap>
        			        			
        			
    <div layout="row" layout-margin layout-wrap flex="100">
    	<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Price Per Plate Veg (In Indian Rupees)</label>
        				 <md-select name="minVegCost" ng-model="vm.catererWizard.startingPrice" ng-required="true" ng-disabled="vm.previewMode">
            			<md-option ng-repeat="option in vm.lookup.perPlateCostOptions" value="{{option}}">{{option}}</md-option>
      				</md-select>
      				<div class="md-errors-spacer"></div>
      				<div ng-messages="vm.cateringDecorDetailsForm.minVegCost.$error" role="alert" multiple>
              				<div ng-message="required" class="my-message">Please choose a range in which your veg per plate cost lies</div>
              			 </div>
      				</md-input-container>
      				<span flex-gt-xs hide-xs></span>
      	<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Price Per Plate Non Veg (In Indian Rupees)</label>
        				 <md-select name="minNonVegCost" ng-model="vm.catererWizard.startingPriceNonveg" ng-required="true" ng-disabled="vm.previewMode">
            			<md-option ng-repeat="option in vm.lookup.perPlateCostOptions" value="{{option}}">{{option}}</md-option>
      				</md-select>
      				<div class="md-errors-spacer"></div>
      				<div ng-messages="vm.cateringDecorDetailsForm.minNonVegCost.$error" role="alert" multiple>
              				<div ng-message="required" class="my-message">Please choose a range in which your veg per plate cost lies</div>
              			 </div>
      				</md-input-container>			
    </div>  
      				
    <div layout="row" layout-margin layout-wrap flex-gt-xs="100" flex-xs="100">
	<h2 class="md-title" flex-xs="100" flex-gt-xs="100">Cuisines</h2>
	<md-input-container flex-xs="100" flex-gt-xs="100">	
  <md-select ng-model="vm.catererWizard.cuisines" name="cuisines" multiple= "true" placeholder="You can choose multiple cuisine" ng-disabled="vm.previewMode">
    <md-option ng-value="key" ng-repeat="(key, value) in ::vm.lookup.cuisines">{{ value }}</md-option>
  </md-select>
  <div ng-messages="vm.cateringDecorDetailsForm.cuisines.$error" role="alert" multiple>
        <div ng-message="required" class="my-message">Please choose cuisines options you provide</div>
  </div>
</md-input-container>
</div>
					
	<div layout="row" layout-margin layout-wrap flex-gt-xs="100" flex-xs="100">
	<h2 class="md-title" flex-xs="100" flex-gt-xs="100">Basic Catering Services</h2>
	<md-input-container flex-xs="100" flex-gt-xs="100">	
  <md-select name="basicCateringServices" ng-model="vm.catererWizard.basicCateringServices" multiple= "true" placeholder="You can choose multiple catering services"  ng-disabled="vm.previewMode">
    <md-option ng-value="key" ng-repeat="(key, value) in ::vm.lookup.basicCateringServices">{{ value }}</md-option>
  </md-select>
  <div ng-messages="vm.cateringDecorDetailsForm.basicCateringServices.$error" role="alert" multiple>
        <div ng-message="required" class="my-message">Please choose catering services you provide</div>
  </div>
</md-input-container>
</div>
					
					
        		</div>
        	
        <!-- For Image Uploading -->
        <div layout="column" layout-wrap>
        	<h2 class="md-title" style="margin-left: 16px;">Upload Menu Images</h2>
        	<div layout="row" layout-wrap layout-margin layout-align="start center">
        	<div flex="100">
        		<span class="validation-err-msg" ng-show="vm.cateringDecorDetailsForm.menuImageFile.$error.maxSize">File too large, one image file can be of maximum 256KB</span>
        		<span class="validation-err-msg" ng-show="vm.cateringDecorDetailsForm.menuImageFile.$error.pattern">Only Image Files are allowed to be Uploaded</span>
        		<span class="validation-err-msg" ng-show="vm.cateringDecorDetailsForm.menuImageFile.$error.maxFiles">Maximum of 4 files are allowed</span>
        		<span class="validation-err-msg" ng-show="vm.imageUploadCustomErrorMsg.length > 0">{{vm.imageUploadCustomErrorMsg}}</span>
        	</div>	
        	<input type="file" name="menuImageFile" ngf-model-invalid="invalidFiles" ng-model="vm.uploadedMenuImages" ngf-select="vm.uploadFiles($files, vm.catererWizard.menuAttachments, 4)" ngf-multiple="true" ngf-pattern="'image/*'" flex="40" ngf-accept="'image/*'" ngf-max-size="256KB" ngf-max-total-size="1MB" ngf-max-files="4" ng-disabled="vm.previewMode"></input>
  			<div>(Max 4 Image Files, Max size 256KB for each File)</div>
  			     
  			</div>
  			<!--Drop files: <div ngf-drop ng-model="files" class="drop-box">Drop</div>-->
  			<div layout="row" layout-fill layout-wrap layout-margin>
  				<div flex-gt-xs="20" flex-xs="30" class="uploaded-img-container" ng-repeat="image in vm.catererWizard.menuAttachments">
  					<img style="width: 100%;" data-ng-src="{{image}}"/>
  					<md-button class="md-icon-button delete-uploaded-img" ng-click="vm.removeSelectedImg(vm.catererWizard.menuAttachments, $index)" ng-disabled="vm.previewMode">
					<md-icon class="material-icons md-24" style="color: white;">
						close
					</md-icon>
				</md-button>
  				</div>
  			</div>
        </div>
        </fieldset>
        </form>
        
       
    </md-content>    
        <!--<input type="submit" wz-next value="Finish now" />-->
    </wz-step>
    <wz-step wz-title="Policies & Images" canenter="vm.exitCateringDecorStep" canexit="vm.exitPolicyImagesStep" wz-disabled="false">
    <md-content>
    
    <div layout="row" layout-margin>
        <h2 class="md-title">Policies & Images</h2>
        <div flex></div>	
        <md-button class="md-raised" wz-previous>Back</md-button>
        <md-button class="md-primary md-raised" wz-next>Next</md-button>
        <md-button class="md-accent md-raised" ng-click="vm.previewModeOff()" ng-show="vm.previewMode">Exit Preview</md-button>
        </div>	
    	<form name="vm.policyDetailsForm">
        	<fieldset ng-disabled="vm.previewMode">
        		
        		<div layout="row" layout-wrap layout-margin>
        			
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Booking Policy</label>
        				<textarea ng-model="vm.catererWizard.bookingPolicy" name="bookingPolicy" rows="3" type="text" md-maxlength="1000" placeholder="Describe booking amount eg. 25% before event, 50% on the day of event and rest after the event" required></textarea>
      					<div ng-messages="vm.policyDetailsForm.bookingPolicy.$error" role="alert" multiple>
        				<div ng-message="required" class="my-message">Please tell us tour booking policies</div>
  					</div>
      				</md-input-container>
      				<span flex-gt-xs hide-xs></span>
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Cancellation &amp; Refund Policy</label>
        				<textarea ng-model="vm.catererWizard.refundPolicy" name="refundPolicy" rows="3" type="text" md-maxlength="1000" placeholder="Describe refund policies eg. 25% of booking amount refundable or 100% refund or no refund etc" required></textarea>
      					<div ng-messages="vm.policyDetailsForm.refundPolicy.$error" role="alert" multiple>
        				<div ng-message="required" class="my-message">Please tell us tour refund policies</div>
  					</div>
      				</md-input-container>
      				
      				</div>
      				
      				<!-- For Image Uploading -->
      				<div layout="column" layout-wrap>
        	<h2 class="md-title" style="margin-left: 16px;">Upload Venue Images</h2>
        	<div layout="row" layout-wrap layout-margin layout-align="start center">
        	<div flex="100">
        		<span class="validation-err-msg" ng-show="vm.policyDetailsForm.vendorImageFile.$error.maxSize">File too large, one image file can be of maximum 256KB</span>
        		<span class="validation-err-msg" ng-show="vm.policyDetailsForm.vendorImageFile.$error.pattern">Only Image Files are allowed to be Uploaded</span>
        		<span class="validation-err-msg" ng-show="vm.policyDetailsForm.vendorImageFile.$error.maxFiles">Maximum of 10 files are allowed</span>
        		<span class="validation-err-msg" ng-show="vm.imageUploadCustomErrorMsg.length > 0">{{vm.imageUploadCustomErrorMsg}}</span>
        	</div>	
        	<input type="file" name="vendorImageFile" ngf-model-invalid="invalidFiles" ng-model="vm.uploadedVendorImages" ngf-select="vm.uploadFiles($files, vm.catererWizard.vendorAttachments, 10)" ngf-multiple="true" ngf-pattern="'image/*'" flex="40" ngf-accept="'image/*'" ngf-max-size="512KB" ngf-max-total-size="5MB" ngf-max-files="10" ng-disabled="vm.previewMode"></input>
  			<div>(Max 10 Image Files, Max size 512KB for each File)</div>
  			     
  			</div>
  			<!--Drop files: <div ngf-drop ng-model="files" class="drop-box">Drop</div>-->
  			<div layout="row" layout-fill layout-wrap layout-margin>
  				<div flex-gt-xs="20" flex-xs="30" class="uploaded-img-container" ng-repeat="image in vm.catererWizard.vendorAttachments">
  					<img style="width: 100%;" data-ng-src="{{image}}"/>
  					<md-button class="md-icon-button delete-uploaded-img" ng-click="vm.removeSelectedImg(vm.catererWizard.vendorAttachments, $index)" ng-disabled="vm.previewMode">
					<md-icon class="material-icons md-24" style="color: white;">
						close
					</md-icon>
				</md-button>
  				</div>
  			</div>
        </div>
      				
      		
      		</fieldset>
      		</form>	
      		
    </md-content>
   </wz-step>
   
   <wz-step wz-title="Sign Off" canenter="vm.exitPolicyImagesStep">
    <md-content>
    <div layout="row" layout-wrap layout-margin>
        <h2 class="md-title">Sign Off</h2>
                <div flex></div>	
        <md-button class="md-raised" wz-previous>Back</md-button>
        <md-button class="md-accent md-raised" ng-click="vm.previewModeOn()" ng-show="!vm.previewMode">Preview</md-button>
        <md-button class="md-accent md-raised" ng-click="vm.previewModeOff()" ng-show="vm.previewMode">Exit Preview</md-button>
        <md-button class="md-primary md-raised" wz-finish="vm.exitSignOffStep()">Finish</md-button>
        </div>
          
    	<form name="vm.signOffDetailsForm">
        	<fieldset ng-disabled="vm.previewMode">
        		<div layout="row" layout-wrap layout-margin>
        			<md-input-container class="md-block" flex-gt-xs="100" flex-xs="100">
        				<md-checkbox ng-model="vm.signOffDetails.agreementCheckbox" aria-label="I Agree" name="agreementCheckbox" ng-disabled="vm.previewMode">
							I agree that all the information provided by me is correct, accurate and true to my knowledge.
						</md-checkbox>
						
      				</md-input-container>
      				
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Information Provider Name</label>
        				<input ng-model="vm.catererWizard.informationProviderName" type="text" required name="informationProviderName" placeholder="Full Name of the information Provider">
      					<div ng-messages="vm.signOffDetailsForm.informationProviderName.$error" role="alert" multiple>
        				<div ng-message="required" class="my-message">Please give your name</div>
  					</div>
      				</md-input-container>
      				<span flex-gt-xs hide-xs></span>
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Information Provider Designation</label>
        				<input ng-model="vm.catererWizard.informationProviderDesignation" placeholder="eg. owner, General Manager or any other" type="text">
      				</md-input-container>
      				
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Information Provided Date</label>
        				<md-datepicker ng-model="vm.catererWizard.informationProvidedDate" md-placeholder="Enter Date" disabled></md-datepicker>
      				</md-input-container>
      				<span flex-gt-xs hide-xs></span>
      				<md-input-container class="md-block" flex-gt-xs="45" flex-xs="100">
        				<label>Information Provider Contact No.</label>
        				<input ng-model="vm.catererWizard.informationProviderContactNo" type="text" name="informationProviderContactNo" required placeholder="Mobile number of information Provider" ng-pattern="/^\d+$/">
      					<div ng-messages="vm.signOffDetailsForm.informationProviderContactNo.$error" role="alert" multiple>
        				<div ng-message="required" class="my-message">Please give your contact number</div>
        				<div ng-message="pattern" class="my-message">Mobile number should consist of digits only</div>
  					</div>
      				</md-input-container>
        		</div>
        	</fieldset>
        </form>
        
      
    </md-content>
    </wz-step>    		
</wizard>
</md-content>